<!DOCTYPE html>
<!--suppress JSAnnotator -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no"/>
    <title></title>
    <link rel="stylesheet" type="text/css" href="../../css/commonWindow.css">
    <link rel="stylesheet" type="text/css" href="../../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/product.css"/>
    <style>
        .coinbox{
            position: relative;
        }
        .coinbox .coinboximg {
            width: 100%;
        }
        .coinbox>div{
            text-align: center;
            position: absolute;
            left: 0px;
            width: 100%;
            height: 100%;
            top:0px;
            margin-top: 30px;
        }
        .coinbox div span{
            padding-left: 25px;
            height: 20px;
            line-height: 20px;
            font-size: 16px;
            color:#fff;
            background: url("../../icon/coinicon.png") no-repeat left 0px;
            background-size: 20px 20px;
        }
        .coinbox div div{
            color:#fff;
            font-size: 18px;
            margin-top: 5px;
        }
        .getitem {
            width: 90%;
            margin: 10px auto;
            background: #fff;
            border-radius: 5px;
            overflow: hidden;
        }
        .getitem>span{
            display: block;
            font-size: 14px;
            color:#333;
            padding-left: 5px;
            height: 15px;
            border-left: 2px solid #fc7822;
            margin: 15px 10px;

        }
        .getitem ul li {
            width: 90%;
            margin: 0 auto;
            position: relative;
            height: 65px;
            border-bottom: 1px solid #e5e5e5;

        }
        .getitem ul li img{
            width:35px;
            height: 35px;
            margin-top: 15px;
            float: left;
        }
        .getitem ul li .getcenter{
            float: left;
            margin: 17px 0 0 10px;
        }
        .getitem ul li div span{
            font-size: 14px;color:#333;
        }
        .getitem ul li div p{
            color:#999;
            font-size: 12px;
        }
        .getitem ul li a {
            color:#fff;
            font-size: 12px;
            display: block;
            position: absolute;
            right: 0px;
            top:20px;
            height: 25px;
            line-height: 25px;
            background: #ff9203;
            width: 70px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 1px 2px 3px 0px #ff9203;
        }
        .gettrule{
            width: 90%;margin: 20px auto;
        }
        .gettrule p {
            font-size: 12px;
            color:#666;
            margin-bottom: 10px;
            line-height: 15px;
        }
    </style>
</head>
<body >
    <div class="getcoin">
        <div class="coinbox">
            <img class="coinboximg" src="../../icon/signbg.png" alt="">
            <div>
                <span>当前账户总额(太奇币)</span>
                <div>{{coinNum}}</div>
            </div>
        </div>
        <div class="getitem">
        <span>
            做任务赚太奇币
        </span>
            <div style="border-bottom: 1px solid #e5e5e5;width: 90%;margin: 0 auto">

            </div>
            <ul>
                <li>
                    <img src="../../icon/get1.png" alt="">
                    <div class="getcenter">
                        <span>签到</span>
                        <p>签到获取10太奇币</p>
                    </div>
                    <a href="javascript:;">已签到</a>
                </li>
                <li>
                    <img src="../../icon/get2.png" alt="">
                    <div class="getcenter">
                        <span>邀请好友注册</span>
                        <p>好友注册成功您将获得100太奇币</p>
                    </div>
                    <a href="javascript:;" @click="showBg(true)">去邀请</a>
                </li>
                <li>
                    <img src="../../icon/get3.png" alt="">
                    <div class="getcenter">
                        <span>分享产品({{shareCount}}/10)</span>
                        <p>分享不同的产品可获得50太奇币</p>
                    </div>
                    <a href="javascript:;" @click="goShareProduct">去分享</a>
                </li>
                <li style="border-bottom: none;">
                    <img src="../../icon/get4.png" alt="">
                    <div class="getcenter">
                        <span>产品浏览({{browseCount}}/10)</span>
                        <p>获得10太奇币</p>
                    </div>
                    <a href="javascript:;" @click="goShareProduct">去浏览</a>
                </li>
            </ul>
        </div>
        <div class="gettrule">
            <p>
                1. 任务完成后金币将自动放入您的太奇币钱包中;
            </p>
            <p>
                2. 太奇币可以用来购买太奇币可以用来购买太奇币可以用来购买
                太奇币可以用来购买；
            </p>
            <p>
                3. 太奇币获得即使用最终解释权归本公司所有。
            </p>
        </div>
        <div class="buynowbox" v-show="showBgFlag">
            <div class="bg-top">
                <div class="sharetitle">
                    分享至
                </div>
                <div class="shareitem">
                    <ul>
                        <li  @click="shareToWx('session')">
                            <img src="../../icon/wx1.png" alt="">
                            <span>微信</span>
                        </li>
                        <li @click="shareToWx('timeline')">
                            <img src="../../icon/timeline2.png" alt="">
                            <span>朋友圈</span>
                        </li>
                    </ul>
                </div>
                <div class="sharerule" >
                    邀请好友注册成功后，个人获得100太奇币奖励。
                </div>
                <div class="cancle_share" @click="showBg(false)">取消</div>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/vue.js"></script>
<script type="text/javascript" src="../../script/data.js"></script>
<script type="text/javascript" src="../../script/user.js"></script>
<script type="text/javascript" src="../../script/apiCloud.js"></script>
<script type="text/javascript" src="../../script/public.js"></script>
<script type="text/javascript" src="../../script/echo.min.js"></script>
<script>
    var app = new Vue({
        el: '.getcoin',
        data: {
            showBgFlag:false,
            coinNum:0,
            shareCount:0,
            browseCount:0
        },
        methods:{
            showBg(f){
                this.showBgFlag = f
            },
            closePageThis:function (){
                closeWin()
            },
            getTaskList(){
                var _this = this;
                ajaxGet(getMyTaskUrl,{},function (ret,err) {
                    al(ret)
                    if(ret && ret.code==0){
                        _this.browseCount = ret.browseCount;
                        _this.shareCount = ret.shareCount;
                    }
                })
            },
            goShareProduct(){
                api.execScript({
                    name:'root',
                    script:"openProductList()"
                });
                closeWin()
            },
            shareToWx(type){
                var user = getUserInfo();
                var shareUrl = shareUrl + '/login/signup.html?inviteCode='+user.inviteCode + '&'
                wx.shareWebpage({
                    apiKey: '',
                    scene: type,
                    title: '欢迎注册太奇教育',
                    description: '太奇教育包含上千种培训课程，下载APP可兑换更多现金奖品',
                    thumb: 'widget://icon/icontest.png',
                    contentUrl: shareUrl
                }, function(ret, err){
                    if (ret.status) {
                        toast('分享成功')
                    } else {
                        toast('分享失败')
                    }
                });
            },
        },
    })

    var wx;
    apiready = function () {
        app.coinNum = api.pageParam.coinNum
        wx = api.require('wx')
        app.getTaskList();
    };


</script>
</html>

<!DOCTYPE html>
<!--suppress JSAnnotator -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no"/>
    <title></title>
    <link rel="stylesheet" type="text/css" href="../css/commonWindow.css">
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/swiper-3.3.1.min.css"/>
    <link rel="stylesheet" type="text/css" href="../css/classlist.css"/>
    <style>
        .class-num{
            margin-top: 5px;
        }
        .swiper3 .swiper-slide {
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
        .indextopbg{
            width: 100%;
            position: absolute;
            top: 0px;
            left: 0px;
        }
        .indextopbg > img{
            width: 100%;
        }
        .indexall{
            width: 92%;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            overflow: hidden;
        }
        .searchbox {
            width: 95%;
            padding-left: 5%;
            background: #fff;
            height: 35px;
            overflow: hidden;
            border-radius: 30px;
            position: relative;
            margin:10px auto ;
        }
        .searchbox input{
            width: 100%;
            line-height: 21px;
            height: 21px;
            padding: 6px 0px;
            outline: none;
        }
        .searchbox > img{
            width: 22px;
            height: 22px;
            position: absolute;
            right: 5%;
            top: 6px;
        }

        .swiper-slide img{
            width: 100%;
            border-radius: 5px;
        }

        .zzactive{
            background: #fff;
            border-radius: 5px;
            padding-bottom: 5px;
            margin-top: 10px;
        }
        .indexitems{
            background: #fff;
            border-radius: 5px;
            padding: 20px 0px 10px 0px;
            margin-top: 10px;
        }
        .indexitems li {
            width: 20%;
            float: left;
        }
        .indexitems li img{
            width: 45px;height: 45px;
            display: block;margin: 0 auto;
        }
        .indexitems li span{
            color:#333333;
            font-size: 12px;
            text-align: center;
            display: block;
            margin: 10px 0px;
        }
        .startclass img{
            width: 100%;
            margin: 10px 0px;
            border-radius: 5px;
        }
        .itemstitle{
            color:#333;
            font-size: 16px;margin-bottom: 15px;
        }
        .hotorgan{
            overflow: hidden;
            width: 96%;
            padding: 0 2% 15px 2%;
            background: #fff;
            border-radius: 5px;
        }
        .hotorgan li{
            font-size: 14px;color:#333;
            width: 33.3%;
            float: left;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            word-break: break-all;
            text-align: center;
        }
        /*.hotorgan li:nth-child(1n+2){*/
        /*border-right: 1px solid #999;*/
        /*border-left: 1px solid #999;*/
        /*box-sizing: border-box;*/
        /*}*/
        .hotorgan ul li:nth-of-type(even){
            border-right: 1px solid #999;
            border-left: 1px solid #999;
            box-sizing: border-box;
        }
        .hotorgan ul {
            margin-top: 15px;
        }
        .organlist{
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }
        .organlist li{
            margin-bottom: 10px;
            width: 30%;
            display: inline-block;
            background: #fff;
            border-radius: 5px;
        }
        .organlist li > div{
            width: 100%;
            height:105px ;
        }
        .organlist li > div > img{
            width: 100%;
            height: 100%;
        }
        .organlist li p {
            line-height: 26px;
            color:#333333;font-size: 14px;
            text-align: center;
            padding: 0 5px;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            word-break: break-all;
        }
        .orderno{
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            position: fixed;
            top: 0px;
            left: 0px;
            z-index: 100;
        }
        .orderno>img{
            width: 30px;height: 30px;
            position: absolute;
            top: 450px;
            left: 50%;
            margin-left: -15px;
        }
        .orderno .orderf{
            width: 70%;
            position: absolute;
            height: 230px;
            top: 200px;
            left: 50%;
            margin-left: -35%;
            background: url("../icon/orderbg.png") no-repeat 0px 0px;
            background-size: 100% 100%;
        }
        .orderf p{
            color:#ff9100;
            font-size: 17px;
            font-weight: bold;
            line-height: 70px;
            text-align: center;
        }
        .orderf span{
            color:#333;
            font-size: 14px;
            text-align: center;
            line-height: 50px;
            display: block;
            margin-top: 30px;
        }
        .orderf div{
            width: 90%;
            margin: 20px auto 30px auto;
            height: 40px;
            line-height: 40px;
            text-align: center;
            background: url("../icon/orderbtnbg.png") no-repeat 0px 0px;
            background-size: 100% 100%;
            color:#fff;
            font-size: 15px;
        }
        .newitem{
            display: flex;
            margin-top: 10px;
            justify-content: space-between;
        }
        .newitem div {
            position: relative;
            width: 30%;
        }
        .newitem div span{
            color:#fff;
            font-size: 14px;
            position: absolute;
            top: 10px;left: 10px;
        }
        .newitem div img{
            width: 100%;
        }
        .zzactive-title{
            padding: 15px 10px;
        }
        .zzactive-title span{
            font-size: 14px;color:#333;
        }
        .zzactive-title a {
            font-size: 12px;color:#f73e3c;
        }
        .active-list{
            width: 90%;
            padding: 0 5%;
        }
        .active-list li {
            margin-bottom: 10px;

        }
        .active-head{
            width: 40px;height: 40px;
            border-radius: 50%;
            float: left;
            overflow: hidden;
        }
        .active-head img{
            width: 100%;
            height: 100%;
        }
        .acitve-detail{
            float: left;
            margin-left: 10px;
        }
        .acitve-detail span{
            font-size: 15px;color:#333;
        }
        .acitve-detail p {
            font-size: 12px;color:#666;
            margin-top: 2px;
        }
        .active-button{
            float: right;
            padding: 8px 12px;
            margin-top: 5px;
            font-size: 12px;
            color:#fff;
            border-radius: 5px;
        }

        .news-index{
            background: #fff;
            width:92%;
            padding: 15px 4% 1px 4%;
            margin-bottom: 10px;
        }
        .news-list li {
            display: flex;
            justify-content: flex-start;
            margin-bottom: 15px;
        }
        .news-list li span{
            padding: 2px 5px;
            font-size: 12px;
            border-radius: 3px;
            margin-right: 5px;
        }
        .news-list  li p {
            flex: 1;
            line-height: 18px;
            font-size: 12px;
            color:#666;
            overflow: hidden;
            text-overflow:ellipsis;
            white-space: nowrap;

        }
        .prev3{
            background: #f7260a;
            color:#fff;
        }
        .down2{
            background: #ccc;
            color:#fff;
        }
    </style>
</head>
<body >
<!-- 咨询聊天调用示例 -->
<div class="consult" tapmode onclick="bindConsult()">
    咨询
</div>
<div class="homeall" v-cloak>
    <div class="swiperbox ">
        <div class="swiper-container swiper1"  style="width: 100%;">
            <div class="swiper-wrapper" id="bannerHm">
                <!--@click="openSwiper(item)"-->
                <div class="swiper-slide " :data="item" v-for="item in bannerList" style="height:140px;overflow: hidden">
                    <img class="boxshadow" :src="item.imageUrl" alt="">
                </div>
            </div>
            <!-- Add Pagination -->
            <div class="swiper-pagination"></div>
        </div>
    </div>
    <div class="indexall">
        <!--菜单栏-->
        <div class="indexitems">
            <ul>
                <!--<li v-for="(item,index) in typeList" v-if="index<7" @click="openTypeDetail(item.id)">-->
                    <!--<img :src="item.img" alt="">-->
                    <!--<span>{{item.name}}</span>-->
                <!--</li>-->
                <li @click="openPutongProduct">
                    <img src="../icon/index-4.png" alt="">
                    <span>知识讲授</span>
                </li>
                <li @click="openLearnList">
                    <img src="../icon/index-1.png" alt="">
                    <span>靶向训练</span>
                </li>
                <!--@click="openTypeDetail"-->
                <li @click="openDonwload">
                    <img src="../icon/index-2.png" alt="">
                    <span>资料下载</span>
                </li>
                <li @click="openFreeList" >
                    <img src="../icon/index-4.png" alt="">
                    <span>免费课程</span>
                </li>
                <li @click="openLive">
                    <img src="../icon/index-3.png" alt="">
                    <span>直播在线</span>
                </li>
                <!---->
                <!--<li @click="openTypeDetail">-->
                    <!--<img src="../icon/index-5.png" alt="">-->
                    <!--<span>建造工程师</span>-->
                <!--</li>-->
                <!--<li @click="openTypeDetail">-->
                    <!--<img src="../icon/index-6.png" alt="">-->
                    <!--<span>消防工程师</span>-->
                <!--</li>-->
                <!--<li @click="openTypeDetail">-->
                    <!--<img src="../icon/index-7.png" alt="">-->
                    <!--<span>资料下载</span>-->
                <!--</li>-->
                <!--<li @click="openTypeDetail">-->
                    <!--<img src="../icon/index-8.png" alt="">-->
                    <!--<span>快速记词</span>-->
                <!--</li>-->

                <div style="clear: both"></div>
            </ul>
        </div>
        <div @click="openWords()" style="margin-top: 10px;">
            <img src="../icon/wordbanner.jpg" style="width: 100%" alt="">
        </div>
        <!--新增标题栏-->
        <!--<div class="live-list" style="margin-top: 10px;">-->
            <!--<span class="menu-title-index">热门直播</span>-->
            <!--<div class="live-list-a">-->
                <!--<div v-for="item in liveList" @click="openProductDetail(item)">-->
                    <!--<div class="live-list-img">-->
                        <!--<img :src="item.imageUrl" alt="">-->
                    <!--</div>-->
                    <!--<div class="live-list-title">{{item.productName}}</div>-->
                    <!--<p class="live-list-teacher">{{item.className}} {{item.teachName}}</p>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
    </div>
    <!--消息动态-->
    <div class="news-index">
        <span class="menu-title-index" @click="openMessageList" >
            消息动态
            <img src="../icon/ai/more.png" alt="">
        </span>
        <div style="height:10px;border-bottom: 1px solid #e5e5e5;margin-bottom: 10px;"></div>
        <ul class="news-list">
            <li @click="openMessageDetail(item)" v-for="(item,index) in newsList" v-show="index<5">
                <span :class="{'prev3':index<3,'down2':index>2}">{{index+1}}</span>
                <p>{{item.messageTitle}}</p>
            </li>
        </ul>
    </div>
    <!--热门直播-->
    <!--<div class="news-index">-->
        <!--<span class="menu-title-index" @click="openActiveList" >-->
            <!--热门直播-->
            <!--<img src="../icon/ai/more.png" alt="">-->
        <!--</span>-->
        <!--<div style="height:10px;border-bottom: 1px solid #e5e5e5;margin-bottom: 10px;"></div>-->
        <!--<ul class="news-list">-->
            <!--<li  v-for="item in liveList"  @click="openProductDetail(item)">-->
                <!--<span class="prev3">讲座</span>-->
                <!--&lt;!&ndash;<span class="down2">开班</span>&ndash;&gt;-->
                <!--<p>{{item.productName}}</p>-->
            <!--</li>-->
        <!--</ul>-->
    <!--</div>-->
    <div class="newitem" style="width:92%;margin: 10px auto">
        <div @click="openProductListByType(1)">
            <img src="../icon/index1.png" alt="">
            <span>拼团优惠</span>
        </div>
        <div @click="openProductListByType(2)">
            <img src="../icon/index2.png" alt="">
            <span>邀请砍价</span>
        </div>
        <div @click="openProductListByType1()">
            <img src="../icon/index3.png" alt="">
            <span>精品特价</span>
        </div>
    </div>
    <!--限时优惠-->
    <div class="free-classes">
        <span class="menu-title-index" @click="openActiveList">
            快来参加
            <img src="../icon/ai/more.png" alt="">
        </span>
        <ul class="classlist">
            <li  @click="openProductDetail(item)"  v-for="item in activeList">
                <div class="class-cover"  :style="{backgroundImage: 'url(' + item.imageUrl + ')'}">
                    <img v-if="item.isCut==1&&item.isGroup==0" src="../icon/cuting.png" alt="">
                    <img v-if="item.isGroup==1&&item.isCut==0" src="../icon/grouping.png" alt="">
                    <img v-if="item.isCut==1&&item.isGroup==1" src="../icon/kpkk.png" alt="">
                </div>
                <div class="class-detail">
                    <p class="class-title">{{item.productName}}</p>
                    <div class="class-tag">
                        <span>{{item.productIntro}}</span>
                    </div>
                    <div class="activename">
                        <span v-if="item.isCut==1">邀请砍价</span>
                        <span v-if="item.isGroup==1">拼团优惠</span>
                        <span v-if="item.isCommission">邀请返佣</span>
                    </div>
                    <div class="class-num">
                        <div class="class-price">
                            <a href="javascript:;">￥</a>
                            <span>{{item.productPrice}}</span>
                            <div style="clear: both"></div>
                        </div>

                        <div style="clear: both"></div>
                    </div>
                    <div class="list-vip-free" v-show="item.memberLevels">
                        <span v-for="(vitem,vindex) in item.memberLevels">{{vitem.memberName}}<a href="javascript:;" v-show="vindex!=item.memberLevels.length-1">/</a></span>免费
                    </div>
                </div>
                <div style="clear: both"></div>
            </li>
        </ul>


    </div>
    <div @click="openWords()" style="width: 90%;margin: 10px auto;display: none;">
        <img src="../icon/ai/mba.png" style="width: 100%" alt="">
    </div>
    <!--试听课程-->
    <!--<div class="free-classes" v-show="freeList.length>0">-->
        <!--<span class="menu-title-index" @click="openAuditionList" >-->
            <!--试听课程-->
            <!--<img src="../icon/ai/more.png" alt="">-->
        <!--</span>-->
        <!--<ul class="classlist">-->
            <!--<li  @click="openProductDetail(item)" v-for="item in freeList">-->
                <!--<div class="class-cover" :style="{backgroundImage: 'url(' + item.imageUrl + ')'}" >-->

                <!--</div>-->
                <!--<div class="class-detail">-->
                    <!--<p class="class-title">{{item.productName}}</p>-->
                    <!--<div class="class-tag">-->
                        <!--<span>{{item.productIntro}}</span>-->
                    <!--</div>-->
                    <!--<div class="class-num free-class-person">-->
                        <!--<div class="class-price">-->
                            <!--<span>￥{{item.productPrice}}</span>-->
                            <!--<div style="clear: both"></div>-->
                        <!--</div>-->
                        <!--<div class="class-person ">-->
                            <!--报名<span>{{item.purchaseNum}}</span>人-->
                        <!--</div>-->
                        <!--<div style="clear: both"></div>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div style="clear: both"></div>-->
            <!--</li>-->
        <!--</ul>-->

    <!--</div>-->
    <div @click="openWords()" style="width: 90%;margin: 10px auto;display: none;">
        <img src="../icon/ai/mba1.png" style="width: 100%;border-radius: 5px;" alt="">
    </div>
    <!--精品特价-->
    <div class="free-classes" style="display: none">
        <span class="menu-title-index">
            精品特价
            <img src="../icon/ai/more.png" alt="">
        </span>
        <ul class="classlist">
            <li  @click="openProductDetail(1)">
                <div class="class-cover" style="background-image: url('../icon/a1.png')" >

                </div>
                <div class="class-detail">
                    <p class="class-title">激发啊啊</p>
                    <div class="class-tag">
                        <span>主讲师：李老师</span>
                    </div>
                    <div class="free-get">试听课程</div>
                </div>
                <div style="clear: both"></div>
            </li>
            <li  @click="openProductDetail(1)">
                <div class="class-cover" style="background-image: url('../icon/a1.png')" >

                </div>
                <div class="class-detail">
                    <p class="class-title">激发啊啊</p>
                    <div class="class-tag">
                        <span>主讲师：李老师</span>
                    </div>
                    <div class="free-get">试听课程</div>

                </div>
                <div style="clear: both"></div>
            </li>
            <li  @click="openProductDetail(1)">
                <div class="class-cover" style="background-image: url('../icon/a1.png')" >

                </div>
                <div class="class-detail">
                    <p class="class-title">激发啊啊</p>
                    <div class="class-tag">
                        <span>主讲师：李老师</span>
                    </div>
                    <div class="free-get">试听课程</div>

                </div>
                <div style="clear: both"></div>
            </li>
        </ul>

    </div>
    <div class="orderno" v-show="orderFlag">
        <div class="orderf">
            <p>订单提醒</p>
            <span>您有未完成的订单</span>
            <div @click="openMyOrder">点击查看</div>
        </div>
        <img @click="closeOrder" src="../icon/closekan.png" alt="">
    </div>
    <div class="mask" v-show="vipFlag">
        <div class="vip-box">
            <img class="index-vip-bg" src="../icon/indexvipbg.png" alt="">
            <div class="vip-box-detail">
                <div class="person-box">
                    <span>
                        {{userName}}
                    </span>
                    <p>
                        会员等级：
                    </p>
                    <div>
                        <img v-for="item in memLevels" :src="getImageUrl(item)" alt="">
                    </div>
                </div>
                <div class="person-box-1">
                    <div class="viptitle">您的专享权利</div>
                    <span>可以通过会员专属通道享受海量免费课程</span>
                    <div class="psvip">
                        <div>
                            <img src="../icon/vip-4.png" alt="">
                            <span>普通会员</span>
                        </div>
                        <div>
                            <img src="../icon/vip-1.png" alt="">
                            <span>VIP会员</span>
                        </div>
                        <div>
                            <img src="../icon/vip-2.png" alt="">
                            <span>VIP Plus会员</span>
                        </div>
                    </div>
                    <a href="javascript:;" style="display: block;height:40px;"></a>
                    <p>去选课学习</p>
                </div>
            </div>
            <img @click="closeVip" class="closevip" src="../icon/closekan.png" alt="">
        </div>
    </div>
</div>


</body>
<style>
    .psvip div{
        display: flex;
        margin-top: 5px;
        justify-content: flex-start;
    }
    .psvip img{
        width: 17px;
        height: 17px;
        margin-right: 3px;

    }
    .psvip{
        position: absolute;
        right: 10px;
        width: 40%;
        bottom:6px;
    }
    .closevip{
        position: absolute;
        bottom:-50px;
        width: 35px;
        height: 35px;
        left: 50%;
        margin-left: -17px;
    }
    .person-box-1 p{
        width: 40%;
        height: 40px;
        line-height: 40px;
        text-align: center;
        border-radius: 40px;
        background: #fff;
        font-size: 14px;
        color:#f73e3c;
        margin-left: 20px;
    }
    .person-box-1 span{
        font-size: 12px;
        color:#fff;
        display: block;
        text-align: center;
    }
    .person-box-1 .viptitle{
        line-height: 40px;
        font-size: 16px;
        color:#fff;
        text-align: center;
    }
    .person-box-1{
        position: absolute;
        bottom:10px;
        width: 100%;
        left: -40px;
    }
    .person-box div{
        display: flex;
        margin-top:5px; ;
    }
    .person-box div img{
        width: 20px;
        height: 22px;
        margin-right: 5px;
    }
    .person-box p{
        font-size: 12px;
        color:#bc8b48;
        margin-top: 10px;
    }
    .person-box{
        margin-top: 35px;
    }
    .person-box span{
        display: block;
        max-width: 30%;
        font-size: 14px;color:#bc8b48;
        padding-bottom: 10px;
        border-bottom:2px solid #bc8b48 ;
    }
    .vip-box-detail{
        position: absolute;
        width: 100%;
        height: 100%;
        left: 40px;
        top:0px;
    }
    .vip-box{
        position: absolute;
        width: 70%;
        left: 15%;
        top:100px;
    }
    .index-vip-bg{
        width: 100%;
    }
</style>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/user.js"></script>
<script type="text/javascript" src="../script/vue.js"></script>
<script type="text/javascript" src="../script/data.js"></script>
<script type="text/javascript" src="../script/apiCloud.js"></script>
<script type="text/javascript" src="../script/public.js"></script>
<script type="text/javascript" src="../script/echo.min.js"></script>
<script type="text/javascript" src="../script/swiper-3.3.1.min.js"></script>
<script>
    var browser,swiper12;
    var chatSysObj = {}; //存放系统聊天数据
    apiready = function () {
//        setUserInfo({userPhone:'1211',userId:'121',token:'1231235455'})
        browser = api.require('webBrowser');
        app.initSwiper();
        app.getIndexNews();
        app.getIndexThreeList();
        app.getSystemChatData();
        var user = getUserInfo();
        var day = localStorage.getItem('loginday');
        var choujiangday = localStorage.getItem('choujiangday');
        var day1 = new Date().getDay();
        if(!user){
            setTimeout(function () {
                if(day){
                    if(day != day1){
                        localStorage.setItem('loginday',day1);
                        alertLogin();
                    }
                }else{
                    alertLogin();
                    localStorage.setItem('loginday',day);
                }
            },2000)
        }else{
//            if(choujiangday){
//                if(choujiangday != day1){
//                    localStorage.setItem('choujiangday',day1);
//                    openChoujiang();
//                }
//            }else{
//                openChoujiang();
//                localStorage.setItem('choujiangday',day1);
//            }
            ajaxGet(signUserUrl,{},function (ret,err) {
                if(ret && ret.code == 0){
                    if(ret.signType==0){
                        toast('签到成功，已获取100太奇币至您的账户')
                    }
                    if(ret.countOrder){
                        app.orderFlag = true;
                    }
                }
            })
        }
        api.setRefreshHeaderInfo({
            loadingImg: 'widget://image/refresh.png',
            bgColor: '#f73e3c',
            textColor: '#fff',
            textDown: '下拉刷新...',
            textUp: '松开刷新...'
        }, function(ret, err) {
            reload();
            api.refreshHeaderLoadDone();
            //在这里从服务器加载数据，加载完成后调用api.refreshHeaderLoadDone()方法恢复组件到默认状态
        });
    };
    function reloadHome() {
        reload()
    }
    function openChoujiang() {
        api.openFrame({
            name: 'choujiang',
            url: './choujiang_body.html',
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: 'auto'
            },
            pageParam: {
                name: 'test'
            }
        });
    }
    function closeChoujiang() {
        api.closeFrame({
            name: 'choujiang'
        });
    }
    function alertLogin() {
        api.confirm({
            title: '温馨提示',
            msg: '登录后浏览产品即可获得太奇币',
            buttons:['去登录','取消'],
        }, function(ret, err) {
            var index = ret.buttonIndex;
            if(index==1){
                openRegister('login','./login/login.html',{})
            }
        });
    }
    function showVipFlag() {
    	app.memLevels = getUserInfo().memberLevels;
    	app.userName = getUserInfo().userName;
        app.vipFlag = true;
    }
    var app = new Vue({
        el: '.homeall',
        data: {
        	userName:'',
        	memLevels:[],
            liveList:[],//直播课程
            typeList:[],
            bannerList:[],
            pushObj:{},
            classList:[],
            orgList:[],
            image:"../icon/indexbanner.png",
            searchKey:'',
            cityName:localStorage.getItem('cityName') || '',
            orderFlag:false,
            showCityName:"",
            tenList:[],

            freeList:[],
            activeList:[],

            newsList:[],

	        vipFlag:false,
        },
        methods:{
        	getImageUrl(data){
        		return '../icon/vip-'+data.memberId+'.png';
            },
	        closeVip(){
	        	this.vipFlag = false;
            },
            getIndexNews(){
                var _this = this;
                ajaxGetVistor(getIndexNewsListUrl,{},function (ret,err) {
                    if(ret && ret.code == 0){
                        _this.newsList = ret.data;
                    }

                })
            },
            openLive(){
                openRegister('live','./free/live.html',{})
            },
            getIndexThreeList(){
                var _this = this;
//                ajaxGetVistor(getIndexLiveUrl,{},function (ret,err) {
//                    if(ret && ret.code == 0){
//                        _this.liveList = ret.data
//                    }
//                })
                ajaxGetVistor(getIndexFreeUrl,{},function (ret,err) {
                    if(ret && ret.code == 0){
                        _this.freeList = ret.data
                    }
                })
                ajaxGetVistor(getIndexActiveUrl,{},function (ret,err) {
                    if(ret && ret.code == 0){
                        _this.activeList = ret.data
                    }
                })
            },
            //打开资料学校
            openDonwload(){
                openNewWindow('loadlist','./download/loadlist.html',{})
            },
            //打开靶向学习
            openLearnList(){
//                openNewWindow('ai_learn_list','./aitest/ailearn/ai_learn_list.html',{})
                openRegister('targettinglearn','./free/targettinglearn.html',{})
            },
            //打开知识讲授
            openPutongProduct(){
                openRegister('putongproduct','./free/putongproduct.html',{})
            },
            //打开试听
            openFreeList(){
                openRegister('free','./free/free.html',{})
            },
            //打开限时优惠
            openActiveList(){
                openRegister('active','./free/active.html',{})
            },
            //打开试听课程
            openAuditionList(){
                openRegister('audition','./free/audition.html',{})

            },
            //打开消息列表
            openMessageList(){
                openRegister('message','./message/message.html',{})
            },
            //打开消息详情
            openMessageDetail(data){
                al(data)
                if(data.productId){
                    var obj = data.productList;
                    obj.productId = data.productId;
                    obj.imageType = data.productType;
                    this.openProductDetail(obj)
                }else{
                    openRegister('message_detail','./message/message_detail.html',{id:data.messageId})
                }
            },
            closeOrder:function(){
                this.orderFlag = false;
            },
            //获取系统聊天需要的data
            getSystemChatData(){
                ajaxGetVistor(getSystemChatDataUrl,{},function (ret,err) {
                    if(ret && ret.code == 0){
                        chatSysObj = ret.data;
                    }
                })
            },
            //搜索
            openSearchResult(){
                if(!this.searchKey){
                    toast('请输入关键字查询')
                    return;
                }
                openRegister('searchresult','./searchresult.html',{key:this.searchKey})
            },
            openMyOrder(){
                openNewWindow('myclass','./main/myclass.html',{})
                this.orderFlag = false;
            },
            //打开机构详情
            openOrganDetail(id,name){
                openRegister('organ_detail','./organ_detail.html',{id:id,name:name})
            },
            openProductListByType(type){
                openRegister('threelist','./threelist.html',{type:type})
            },
            openProductListByType1(){
                openRegister('special_class','./special_class.html',{})

            },
            openWords(){
                openNewWindow('word_index','./word/word_index.html',{})
            },
            //获取热门课程
            getHotClasses(){
                var _this = this;
                ajaxGetVistor(getIndexHotClassesUrl,{cityName:this.cityName},function (ret,err) {
                    if(ret && ret.code == 0){
                        _this.classList = ret.data;
                    }
                })
            },
//打开课程简介
            openProductDetail(data){
                if(data.imageType==2){
                    openRegister('product_detail','./product_detail.html',{id:data.productId})
                }else if(data.imageType == 4){
                    if(data.isCut == 1 && data.isGroup == 0){
                        openRegister('productkan_detail','./productkan_detail.html',{id:data.productId})
                    }else if(data.isGroup == 1 || (data.isGroup == 1 && data.isCut == 1)){
                        openRegister('productgroup_detail','./productgroup_detail.html',{id:data.productId})
                    }
                }else if(data.imageType == 5){
                    openRegister('productspe_detail','./productspe_detail.html',{id:data.productId})

                }
            },
            //获取首页推送
            getIndexPush(){
                var _this = this;
                ajaxGetVistor(getIndexPushUrl,{},function (ret,err) {
                    if(ret && ret.code == 0){
                        _this.pushObj = ret.data;
                    }

                })
            },
            //打开推送链接
            openPush(){
                openRegister('special_class','./special_class.html',{})

                return;
                browser.open({
                    url: this.pushObj.pushUrl
                });
            },
            //获取首页轮播图
            initSwiper(){
                var _this = this;
                ajaxGetVistor(indexBannerUrl,{},function (ret,err) {
                    if(ret){
                        if(ret.code == 0){
                            _this.bannerList = ret.data;
                            _this.$nextTick(function () {
                                swiper12 = new Swiper('.swiper1',{
                                    spaceBetween: 30,
                                    centeredSlides: true,
                                    loop: true,
                                    pagination: {
                                        el: '.swiper-pagination',
                                        clickable: true,
                                    },
                                    on:{
                                        click: function(){
                                            var index = swiper12.realIndex;
                                            var data = ret.data[index];
                                            if(data.imageType == 2){
                                                if(data.isCut == 1 && data.isGroup == 0){
                                                    openRegister('productkan_detail','./productkan_detail.html',{id:data.productId})
                                                }else if(data.isGroup == 1 || (data.isGroup == 1 && data.isCut == 1)){
                                                    openRegister('productgroup_detail','./productgroup_detail.html',{id:data.productId})
                                                }else if(data.isGroup == 0 && data.isCut == 0){
                                                    openRegister('product_detail','./product_detail.html',{id:data.productId})
                                                }
                                            }else if(data.imageType==1){

                                            }else if(data.imageType==5){
	                                            // _this.openProductListByType(3);
	                                            openRegister('special_class','./special_class.html',{})

                                            }else if(data.imageType==6){
                                                _this.openProductListByType(2);
                                            }else if(data.imageType==7){
                                                _this.openProductListByType(1);
                                            }
                                        },
                                    },
                                });
                            })
                        }
                    }

                })

            },
            //获取分类
            getTypList(){
                var _this = this;
                ajaxGetVistor(indexTypeListUrl,{},function (ret,err) {
                    if(ret){
                        for(var i=0;i<ret.data.length;i++){
                            ret.data[i].img = '../icon/index-' + (i+1) + '.png'
                        }
                        _this.typeList = ret.data;
                    }else{
                    }
                })
            },
            //打开分类
            openTypeDetail(id){
                openNewWindow('ai_train_index','./aitest/aitrain/ai_train_index.html',{})
//                openRegister('productlist','./productlist.html',{id:id})
            },
        },

    })

    function bindConsult() {
//        chat_id = '191101000001'; // 座席商家id，统一分配，联系管理员获取
//        chat_user = 'taiyuan001'; // 座席用户，统一分配，联系管理员获取
//        client_user = '13800138000'; //用户（任意字符，用于座席聀天时显示以区分用户，尽可能用惟一值）
//        chat_token = 'asdfhasdfjhasdkjhfkasdjhsk'; //商家安全认证token，正式版只能由
        if(!getUserInfo()){
            api.confirm({
                title: '温馨提示',
                msg: '登录后即可实时咨询，是否去登录？',
                buttons:['去登录','取消'],
            }, function(ret, err) {
                var index = ret.buttonIndex;
                if(index==1){
                    openRegister('login','./login/login.html',{})
                }
            });
            return;
        }
        var user = getUserInfo();
        api.openWin({
            name: 'chat_win',
            url: './chat/chat_win.html',
            reload: true,
            delay: 300,
            pageParam: {
                chat_id:chatSysObj.socketOrgInfo.imOrgSerial,
                chat_user:chatSysObj.userName,
                client_user:user.userPhone,
                chat_token:chatSysObj.token,
                chat_source:'index',
                title:'系统客服'
            },

        });
    }
</script>
</html>
